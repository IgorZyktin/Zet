# Minimus

Инструмент для ведения заметок по методу **Zettelkasten**.

---

В двух словах:
1. Пишете заметки в текстовых файлах, указываете в них теги.
1. Запускаете **minimus**.
1. Получаете сшивку связей в ваших заметках. 

## Что за **Zettelkasten**?

Этот метод был придуман немецким социологом [Никласом Луманом](https://ru.wikipedia.org/wiki/%D0%9B%D1%83%D0%BC%D0%B0%D0%BD,_%D0%9D%D0%B8%D0%BA%D0%BB%D0%B0%D1%81).

Метод строится на применении упорядоченного набора листков бумаги. Каждый листок должен быть пронумерован и содержать одну специфическую идею. Листки могут содержать ссылки друг на друга и обобщающие теги. По своей сути, зеттелькастен напоминает гипертекст. Все листки хранятся в пронумерованных ящиках, за счёт чего листок с любым номером можно быстрой найти. 

Основные идеи:

1. Отсутствии категорий. Информация в системе хранится в виде графа, введение каких-либо категорий не предусматривается. За счёт этого проще добавлять информацию, не имеющую чётко определённой области.
2. Отсутствует проблема переполнения данными. Система работает тем лучше, чем больше в ней информации.
3. Желательно использование максимально примитивных технологий. Предполагается, что система создаётся один раз и на всю жизнь, поэтому не должно быть зависимости от конкретного приложения, формата или чего то подобного.
4. Желательно максимальное количество ссылок в системе. Информация, не сцепленная с другими заметками не будет работать.
5. Ничего не удаляется. При пересмотре содержимого лучше добавлять заметки, описывающие, почему предыдущие были неправильными.

Набор этих простейших правил создаёт очень удобную и максимально живучую систему сохранения знаний.

## Для чего этот репозиторий

Чтобы было удобнее вести заметки. Автоматический линковщик сшивает заметки между собой по указанным в них тегам. Ещё он умеет создавать дополнительные страницы для тегов, чтобы было понятно, где они упоминаются.

В основе лежат две идеи:
1. Чем проще инструмент, тем выше шанс, что тебе будет не лень им пользоваться.
1. Сделать проще невозможно.

Серьёзно, что может быть проще пачки текстовых документов? Предполагается, что архив заметок будет лежать в сетевом хранилище вроде Yandex Disk / Google drive / Dropbox. Для работы не требуются сторонние приложения и интернет.

Желательно при этом, чтобы каталог контролировался системой контроля версий, например git.

## Как пользоваться

1. Скачать себе репозиторий: https://github.com/IgorZyktin/minimus/archive/master.zip, разархивировать.
2. Положить свои заметки в каталог source (подробнее см. ниже).
3. Если есть установленый python (3.6 и выше) - запустить **run_python.bat**.
4. Если нет python - запустить **run_RU.bat** или **run_EN.bat**.

Скрипт будет пытаться читать данные из подкаталога **source** и будет пытаться сохранять данные в каталог **target**. При желании можно подправить содержимое *.bat файлов, чтобы использовались другие каталоги.

### Начало работы

Надо создать несколько текстовых файлов с заметками в формате markdown. Расширение файлов должно быть ".md".
 
Желательный формат заметок:
```markdown
# Название заметки

Краткое описание

---

{{ тег номер один }}

{{ тег номер два }}

{{ тег номер три }}

## Заголовок

Текст, в котором может быть что-то про {{ тег номер два }} например.
```

Заголовком статьи будет считаться первое, что идёт после октоторпа (#). Тегами будет считаться всё, что нашлось в шапке документа, что идёт в формате {{ тег }}.

После этого можно запускать линковщик. Если всё пройдёт хорошо, выходной текст будет:
```markdown
# Название заметки

Краткое описание

---

[тег номер один](./meta_teg_nomer_odin.md)

[тег номер два](./meta_teg_nomer_dva.md)

[тег номер три](./meta_teg_nomer_tri.md)

## Заголовок

Текст, в котором может быть что-то про [тег номер два](./meta_teg_nomer_dva.md) например.
```
Видно, что сам текст заметки остался тем же, но теперь теги это не просто текст, а реальные ссылки на другие документы.

### Что он делает

Линковщик просканирует все файлы в каталоге и:
1. Выполнит замену текста тегов на соответствующие им гиперссылки.
1. Создаст метафайлы meta_*.md для каждого тега, где будет перечислено в каких документах этот тег упоминается.
1. Создаст метафайл index.md, в котором будет список всех заметок.

Примерно вот так:
```
C:\folder>run_RU.bat
-------------------------------------------------------------------------------
Скрипт был запущен в каталоге: C:\folder
Каталог исходных данных: C:\folder\source
Каталог обработанных данных: C:\folder\target

Этап 1. Генерация метафайлов.
        01 из 10. Создан файл: C:\folder\target\meta_hobot.md
        02 из 10. Создан файл: C:\folder\target\meta_seryy.md
        03 из 10. Создан файл: C:\folder\target\meta_4_lapy.md
        04 из 10. Создан файл: C:\folder\target\meta_hvost.md
        05 из 10. Создан файл: C:\folder\target\meta_mashina.md

Этап 2. Генерация гиперссылок
        1 из 4 Был обновлён файл: 2020-07-06_elephant.md
        2 из 4 Был обновлён файл: 2020-07-06_mouse.md
        3 из 4 Был обновлён файл: 2020-07-06_recursion.md
        4 из 4 Был обновлён файл: 2020-07-06_vacuum.md

Этап 3. Генерация индексов
        Был создан файл: C:\folder\target\index.md

Этап 4. Сохранение основных файлов
        1 из 4. Сохранены изменения в файле C:\folder\target\2020-07-06_elephant.md
        2 из 4. Сохранены изменения в файле C:\folder\target\2020-07-06_mouse.md
        3 из 4. Сохранены изменения в файле C:\folder\target\2020-07-06_recursion.md
        4 из 4. Сохранены изменения в файле C:\folder\target\2020-07-06_vacuum.md
```
Важно помнить, что линковщик это не динамический инструмент. Он не нужен для чтения заметок, только для их сшивки. Достаточно время от времени запускать его при обновлении содержимого. Читать заметки при этом можно с любого устройства, python при этом не требуется. 

После внесения изменений в заметки, линковщик должен быть запущен повторно. Он опять создаст все мета документы и стартовую страницу. Предполагается, что в пределах нескольких тысяч заметок это будет работать достаточно быстро. 

### Посмотреть живьём

В репозиторий (и соответствующий [zip архив](https://github.com/IgorZyktin/minimus/archive/master.zip)) включены каталоги source и target, открыв их, можно посмотреть что из чего сгенерировалось и как выглядит.

### Аргументы запуска

  Ключ | Значение
:-----:|:---:
--lang  |  Язык примечаний ('RU' или 'EN')
--source_directory "C:\my cool folder"  | Выбрать каталог исходных данных
--target_directory "C:\my cool folder"  | Выбрать каталог для сохранения
 
### Развёртывание

Я храню на компьютере bat файл со скриптом запуска. 
Он позволяет мне быстро пересобрать новую версию заметок.

```batch
@ECHO off
SET source=C:\Users\MainUser\YandexDisk\zettelkasten_source\content
SET target=C:\Users\MainUser\YandexDisk\zettelkasten_target\content
SET executable_directory=C:\PycharmProjects\minimus\
SET executable=%executable_directory%minimus.exe

CD %executable_directory%

%executable% ^
    --lang RU ^
    --source_directory %source% ^
    --target_directory %target% ^
    --localexplorer

PAUSE
EXIT
```

### Справочные данные

1. Подробнее про **Zettelkasten**: 
    * http://vonoiral.com/all/zettelkasten/
    
1. Подробнее про **python** (на этом языке написан линковщик): 
    * https://pythonworld.ru/osnovy/skachat-python.html
    * Скачать тут: https://www.python.org/ftp/python/3.8.3/python-3.8.3.exe
    
1. Подробнее про **typora** (я применяю этот markdown редактор):
    * https://typora.io/
    * Скачать https://typora.io/#windows
    * Скачать https://typora.io/#linux
